{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n\nfunction AddBooks() {\n  _s();\n  const [booksAdded, setBooksAdded] = useState({\n    title: \"\",\n    authors: \"\",\n    image: \"\",\n    shelf: \"\"\n  });\n  useEffect(() => {\n    const dataToBeSent = {\n      title: \"Ender's Game\",\n      authors: \"Orson Scott Card\",\n      image: \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\n      shelf: \"none\"\n    };\n    let token = localStorage.token;\n    if (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n    let headers = {\n      Accept: \"application/json\",\n      Authorization: token\n    };\n    fetch(`https://reactnd-books-api.udacity.com/search?authors=${dataToBeSent.authors[0]}`, {\n      method: \"post\",\n      headers: {\n        ...headers,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(dataToBeSent)\n    }).then(res => res.json()).then(res => {\n      setBooksAdded(res.books);\n    });\n  }, []);\n  return [booksAdded, setBooksAdded];\n}\n_s(AddBooks, \"P7KI24Vt6/TwYpUJujc8VHU/V1c=\");\n_c = AddBooks;\nexport default AddBooks;\nvar _c;\n$RefreshReg$(_c, \"AddBooks\");","map":{"version":3,"names":["useEffect","useState","AddBooks","booksAdded","setBooksAdded","title","authors","image","shelf","dataToBeSent","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","fetch","method","body","JSON","stringify","then","res","json","books"],"sources":["D:/sara-courses/react-course/my-reads-sara/starter/src/context/AddBooks.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n\r\nfunction AddBooks() {\r\n  const [booksAdded, setBooksAdded] = useState({\r\n    title: \"\",\r\n    authors: \"\",\r\n    image: \"\",\r\n    shelf: \"\",\r\n  });\r\n  useEffect(() => {\r\n    const dataToBeSent = {\r\n      title: \"Ender's Game\",\r\n      authors: \"Orson Scott Card\",\r\n      image:\r\n        \"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api\",\r\n      shelf: \"none\",\r\n    };\r\n    let token = localStorage.token;\r\n\r\n    if (!token)\r\n      token = localStorage.token = Math.random().toString(36).substr(-8);\r\n\r\n    let headers = {\r\n      Accept: \"application/json\",\r\n      Authorization: token,\r\n    };\r\n    fetch(\r\n      `https://reactnd-books-api.udacity.com/search?authors=${dataToBeSent.authors[0]}`,\r\n      {\r\n        method: \"post\",\r\n        headers: {\r\n          ...headers,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(dataToBeSent),\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setBooksAdded(res.books);\r\n      });\r\n  }, []);\r\n  return [booksAdded, setBooksAdded];\r\n}\r\n\r\nexport default AddBooks;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C;;AAEA,SAASC,QAAQ,GAAG;EAAA;EAClB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGH,QAAQ,CAAC;IAC3CI,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE;EACT,CAAC,CAAC;EACFR,SAAS,CAAC,MAAM;IACd,MAAMS,YAAY,GAAG;MACnBJ,KAAK,EAAE,cAAc;MACrBC,OAAO,EAAE,kBAAkB;MAC3BC,KAAK,EACH,0PAA0P;MAC5PC,KAAK,EAAE;IACT,CAAC;IACD,IAAIE,KAAK,GAAGC,YAAY,CAACD,KAAK;IAE9B,IAAI,CAACA,KAAK,EACRA,KAAK,GAAGC,YAAY,CAACD,KAAK,GAAGE,IAAI,CAACC,MAAM,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;IAEpE,IAAIC,OAAO,GAAG;MACZC,MAAM,EAAE,kBAAkB;MAC1BC,aAAa,EAAER;IACjB,CAAC;IACDS,KAAK,CACF,wDAAuDV,YAAY,CAACH,OAAO,CAAC,CAAC,CAAE,EAAC,EACjF;MACEc,MAAM,EAAE,MAAM;MACdJ,OAAO,EAAE;QACP,GAAGA,OAAO;QACV,cAAc,EAAE;MAClB,CAAC;MACDK,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACd,YAAY;IACnC,CAAC,CACF,CACEe,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEC,GAAG,IAAK;MACbrB,aAAa,CAACqB,GAAG,CAACE,KAAK,CAAC;IAC1B,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,CAACxB,UAAU,EAAEC,aAAa,CAAC;AACpC;AAAC,GAzCQF,QAAQ;AAAA,KAARA,QAAQ;AA2CjB,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module"}